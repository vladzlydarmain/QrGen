{% extends "base/base.html" %}

{% block content %}
{% load static %}
<link rel="stylesheet" href="{% static 'editor/editor.css' %}">
<script src="{% static 'js/script_editorA.js' %}" defer></script>
<script src="{% static 'js/image.js' %}" defer></script>
<script src="{% static 'js/ext.js' %}" defer></script>
<input id="url" value="{% url 'editor' %}" hidden>
<div class="generator">
    <div class="gen_header">
        <p>Твій QR-код</p>
    </div>
    <form class="create_form" action="{% url 'editor' %}" enctype="multipart/form-data" method="POST">
        {% csrf_token %}
        <div class="left">
            <input type="text" name = "buttontype" value="img" hidden>
            <input class="url-input" type="url" name="qr_url" placeholder="Посилання">

            <div class="main-colors-div">
                <div>
                    <label for="bg_color"  class="text">Колір фону</label>
                    <input class="bg_color" type="color" value="#ffffff" name="back_color" id="back">
                </div>
                <div>
                    <label for=".first"  class="text">Колір блоків</label>
                    <input type="color" name="first_color" id="first">
                </div>
            </div>

            <div class="set_extension">
                <div class="extension-div first_choose_ext">
                    <input class="jpg radio-ext" value="jpg" type="radio" name="extention" checked hidden>
                    <label for=".jpg">JPG</label>
                </div>

                <div class="extension-div">
                    <input class="png radio-ext" value="png" type="radio" name="extention" hidden>
                    <label for=".png">PNG</label>
                </div>

                <div class="extension-div">
                    <input class="tiff radio-ext" value="tiff" type="radio" name="extention" hidden>
                    <label for=".tiff">TIFF</label>  
                </div>        
            </div>
                
            <div class="block-choose-div-outer">
                
                <p class="text">Форма блоків QR-коду</p>
                <div class="block-choose-div">
                    <div class="cool_class ">
                        <input type = "radio" class = "change_button" id="normal_block" name="block_form" value="SquareModuleDrawer()" checked hidden>
                        <label for="#normal_block">
                            <img class="change_img first_choose" src="{% static 'editor/image/default.png' %}" alt="Звичайна" title="Звичайна">
                        </label>
                    </div>
                    <div class="cool_class">
                        <input type = "radio" class = "change_button" id="circle_block" name="block_form" value="CircleModuleDrawer()" hidden >
                        <label for="#circle_block">
                            <img class="change_img" src="{% static 'editor/image/circle.png' %}" alt="Коло" title="Коло">
                        </label>                        
                    </div>
                    <div class="cool_class">
                        <input type = "radio" class = "change_button" id="gapped_block" name="block_form" value="GappedSquareModuleDrawer()" hidden>
                        <label for="#gapped_block">
                            <img class="change_img" src="{% static 'editor/image/gapped.png' %}" alt="З проміжком" title="З проміжком">
                        </label>          
                    </div>
                    <div class="cool_class">
                        <input type = "radio" class = "change_button" id="round_block" name="block_form" value="RoundedModuleDrawer()" hidden>
                        <label for="#round_block">
                            <img class="change_img" src="{% static 'editor/image/rounded.png' %}" alt="Закруглений"  title="Закруглений">
                        </label>                        
                    </div>
                    <div class="cool_class">
                        <input type = "radio" class = "change_button" id="vertical_block" name = "block_form" value="VerticalBarsDrawer()" hidden>
                        <label for="#vertical_block">
                            <img class="change_img" src="{% static 'editor/image/vertical.png' %}" alt="Вертикальний" title="Вертикальний">
                        </label>                        
                    </div>
                    <div class="cool_class">
                        <input type = "radio" class = "change_button" id="horizontal_block" name = "block_form" value="HorizontalBarsDrawer()" hidden>
                        <label for="#horizontal">
                            <img class="change_img" src="{% static 'editor/image/horizontal.png' %}" alt="Горизонтальний" title="Горизонтальний">
                        </label>                        
                    </div>
                </div>
            </div>
            
            <div class="gradiant-choose-div">
                <p  class="text">Градієнт QR-коду</p>
                <div class="colors" hidden>    
                    <input type="color" name="second_color" id="second" hidden>
                    <label for=".second" class="text" id="second" hidden>Зовнішній колір</label>
                </div>
                <input name="load_file" class="load_file-inp photo-url" type="file" accept=".tiff, .jpg, .png" hidden>    
                <select name="gradiant_form" id="gradiant-select">
                    <option class="grad_option" id="SolidFill" name="gradiant_form" value="SolidFillColorMask()" checked>Без градієнту</option>
                    <Option id="RadialGradiant" name="gradiant_form" value="RadialGradiantColorMask()">Радіальний градієнт</Option>
                    <Option id="SquareGradiant" name="gradiant_form" value="SquareGradiantColorMask()">Квадратний градієнт</Option>
                    <Option id="VerticalGradiant" name="gradiant_form" value="VerticalGradiantColorMask()">Вертикальний градієнт</Option>
                    <Option id="HorizontalGradiant" name="gradiant_form" value="HorizontalGradiantColorMask()">Горизонтальний градієнт</Option>
                    <Option id="ImageGradiant" name="gradiant_form" value="ImageColorMask()">Зображення</Option>
                </select>
            </div>

            <div class="load_image_div">
                <label for=".photo-url" class="text">Центральне зображення</label> 
                <input class="photo-url" name="load_file_little" type="file" accept=".tiff, .jpg, .png">
            </div>
        
        </div>  
        <div class="right">
            <img src="{{ url.image.url }}" id='img-tag' >
            <div class="for-buttons">
                <button class="create" type="submit">Створити</button>
                <a name="download" href="{{ url.image.url }}" filename="{{ url.image.name }}" download="extention" class="download-a" hidden><button class="download-button create" type="button">Завантажити</button></a>
            </div>
        </div>        
        <!-- <img src="image/templateqr.png" alt="QRcode"> -->

    </form>
    <h1 style="color: white;">{{ code }}</h1>
    <!-- <a name="download" href="{{ url.image.url }}" filename="{{ url.image.name }}" download="extention"><button>Завантажити</button></a> -->
    
    <!-- <form action="{% url 'editor' %}" method="post" enctype="multipart/form-data">
        {% csrf_token %}
        <input name="load_file" type="file" accept=".tiff, .jpg, .png">
        <input type="submit" value="Upload">
    </form> -->
</div>
{% endblock %}